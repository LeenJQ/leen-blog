# 前端组件化实践

## 意义

组件化的意义在于**可重用，可配置，可组装**。

> 组件更多跟开发人员息息相关。好的组件可以对大部分平常业务“直接拿来即可用”，对于特殊需求可以灵活地进行配置。其次在于好的设计和文档，保证面对特殊需求时，让开发人员可以快速地了解源代码的意图，轻松修改代码。

## 本质

**组件就是函数**

React框架提出了一个重要的思想，就是**组件即函数** 的概念。**一个组件就是一个函数**，组件接收来自上一层传递的参数props，然后把生成的模版作为结果返回。

许多小的函数组合成更大的函数，一个应用由许多大的函数构成。**组件嵌套即是函数嵌套，数据通过参数传递给子组件，行成数据流。** 组件的状态更新就是传新的参数来生成新的渲染结果。

## 组件资源

**每个组件都是资源的集合**，如脚本，样式，文档，图片，组件等。

**其中脚本是组件的核心**，是骨架。脚本中通过模块化把依赖资源整合到一起。

> 资源加载：使用webpack 等打包工具，可以使用 require 去加载各种类型的资源到js脚本中，并且可以有选择地从js代码中抽离出来生成单独的依赖文件。
例如：图片可以用base64的方式写入到js代码中，也可以抽离出来生成图片格式的文件。

## 生命周期

组件都有生命周期。

传统框架的生命周期都是围绕着DOM元素。

因为js脚本运行时必须保证其操作的DOM对象是在文档中已经创建好的。最常见的window.onload 也可以算是 window 全局对象的生命周期的一个回调方法。

> [Function] window.onload 方法是一个回调函数，只有当整个DOM对象加载完成后执行。

在 MV* 框架盛行的现在，直接操作 DOM 渐渐变得较少，更多是通过操作模版绑定的数据来自动更新视图。所以更多的生命周期关注点放在了数据更新上。

@-------------
初始化数据
虚拟DOM 创建
DOM 创建
DOM 插入
更新数据
更新虚拟DOM
更新 DOM
@-------------

## 模版
 * Virtual DOM
 * VM，指令

## 组件通信
 * 父子
 * 兄弟
 * 深层嵌套
 * 全局

## 组件设计模式
 * 容器组件
 * 展示组件
 * 纯函数组件
 * 高阶组件 
 * 动态组件

## 数据管理
 * Flux，单向数据流
 * Redux
 * Mobx / Vuex
 * RxJS

## 渐进式设计

## 自底向上增量开发
 
## 抽离公共组件实例

## 高性能组件
 * 防止重复渲染
 * Immutable

## 动画

Transition组件模式

## 实践